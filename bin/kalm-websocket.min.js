/* kalm-websocket v2.0.1 */
var v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function C(){C=function(){};v.Symbol||(v.Symbol=J)}var K=0;function J(q){return"jscomp_symbol_"+(q||"")+K++}
define("kalm-websocket",[],function(){return function(q){function l(c){if(m[c])return m[c].b;var h=m[c]={b:{},id:c,loaded:!1};q[c].call(h.b,h,h.b,l);h.loaded=!0;return h.b}var m={};l.T=q;l.M=m;l.p="";return l(0)}([function(q,l,m){(function(c){function h(g){var f=c.h(g.byteLength||g.data.length);g=g.data||new Uint8Array(g);for(var k=f.length,h=0;h<k;h++)f[h]=g[h];return f}var k=void 0!==window,p=k?m(5):m(!function(){var c=Error('Cannot find module "uws"');c.code="MODULE_NOT_FOUND";throw c;}()),n={L:!0};
q.b={S:function(c,f){c.listener=new p.G({port:c.options.port},f);c.listener.c("connection",c.m.bind(c));c.listener.c("error",function(g){c.O("error",g)})},listen:function(){},createSocket(){},send:function(c,f){c&&c.C?c.C(f):c&&c.send(f,n)},N:function(c,f){f||(f=new p("ws://"+c.options.hostname+":"+c.options.port),k&&(f.binaryType="arraybuffer"));k?(f.onmessage=function(f){c.m(h(f.data))},f.onerror=c.handleError.bind(c),f.onclose=c.l.bind(c),f.onopen=c.A.bind(c)):(f.c("message",function(f){c.m(h(f))}),f.c("error",c.handleError.bind(c)),
f.c("connect",c.A.bind(c)),f.c("close",c.l.bind(c)));return f},stop:function(c,f){c.listener.close();setTimeout(f,0)},disconnect:function(c){c.s&&c.s.disconnect&&(c.s.disconnect(),setTimeout(c.l.bind(c),0))}}}).call(l,m(1).f)},function(q,l,m){(function(c,h){function k(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,P:function(){return 42}};return"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(d){return!1}}function p(a,d){if((c.a?2147483647:1073741823)<
d)throw new RangeError("Invalid typed array length");c.a?(a=new Uint8Array(d),a.__proto__=c.prototype):(null===a&&(a=new c(d)),a.length=d);return a}function c(a,d,b){if(!(c.a||this instanceof c))return new c(a,d,b);if("number"===typeof a){if("string"===typeof d)throw Error("If encoding is specified then the first argument must be a string");return f(this,a)}return n(this,a,d,b)}function n(a,d,b,e){if("number"===typeof d)throw new TypeError('"value" argument must not be a number');if("undefined"!==
typeof ArrayBuffer&&d instanceof ArrayBuffer){d.byteLength;if(0>b||d.byteLength<b)throw new RangeError("'offset' is out of bounds");if(d.byteLength<b+(e||0))throw new RangeError("'length' is out of bounds");d=void 0===b&&void 0===e?new Uint8Array(d):void 0===e?new Uint8Array(d,b):new Uint8Array(d,b,e);c.a?(a=d,a.__proto__=c.prototype):a=A(a,d);d=a}else if("string"===typeof d){e=a;a=b;if("string"!==typeof a||""===a)a="utf8";if(!c.o(a))throw new TypeError('"encoding" must be a valid string encoding');
b=u(d,a)|0;e=p(e,b);d=e.write(d,a);d!==b&&(e=e.slice(0,d));d=e}else d=w(a,d);return d}function g(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function f(a,d){g(d);a=p(a,0>d?0:r(d)|0);if(!c.a)for(var b=0;b<d;++b)a[b]=0;return a}function A(a,d){var b=0>d.length?0:r(d.length)|0;a=p(a,b);for(var e=0;e<b;e+=1)a[e]=d[e]&255;return a}function w(a,d){if(c.isBuffer(d)){var b=r(d.length)|0;a=p(a,b);if(0===
a.length)return a;d.i(a,0,0,b);return a}if(d){if("undefined"!==typeof ArrayBuffer&&d.buffer instanceof ArrayBuffer||"length"in d)return(b="number"!==typeof d.length)||(b=d.length,b=b!==b),b?p(a,0):A(a,d);if("Buffer"===d.type&&D(d.data))return A(a,d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function r(a){if(a>=(c.a?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(c.a?2147483647:
1073741823).toString(16)+" bytes");return a|0}function u(a,d){if(c.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var b=a.length;if(0===b)return 0;for(var e=!1;;)switch(d){case "ascii":case "latin1":case "binary":return b;case "utf8":case "utf-8":case void 0:return y(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
b;case "hex":return b>>>1;case "base64":return z.v(E(a)).length;default:if(e)return y(a).length;d=(""+d).toLowerCase();e=!0}}function B(a,d,b){var e=!1;if(void 0===d||0>d)d=0;if(d>this.length)return"";if(void 0===b||b>this.length)b=this.length;if(0>=b)return"";b>>>=0;d>>>=0;if(b<=d)return"";for(a||(a="utf8");;)switch(a){case "hex":a=d;d=b;b=this.length;if(!a||0>a)a=0;if(!d||0>d||d>b)d=b;e="";for(b=a;b<d;++b)a=e,e=this[b],e=16>e?"0"+e.toString(16):e.toString(16),e=a+e;return e;case "utf8":case "utf-8":return F(this,
d,b);case "ascii":a="";for(b=Math.min(this.length,b);d<b;++d)a+=String.fromCharCode(this[d]&127);return a;case "latin1":case "binary":a="";for(b=Math.min(this.length,b);d<b;++d)a+=String.fromCharCode(this[d]);return a;case "base64":return 0===d&&b===this.length?z.j(this):z.j(this.slice(d,b));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=this.slice(d,b);b="";for(a=0;a<d.length;a+=2)b+=String.fromCharCode(d[a]+256*d[a+1]);return b;default:if(e)throw new TypeError("Unknown encoding: "+a);
a=(a+"").toLowerCase();e=!0}}function q(a,d,b,e,t){if(0===a.length)return-1;"string"===typeof b?(e=b,b=0):2147483647<b?b=2147483647:-2147483648>b&&(b=-2147483648);b=+b;isNaN(b)&&(b=t?0:a.length-1);0>b&&(b=a.length+b);if(b>=a.length){if(t)return-1;b=a.length-1}else if(0>b)if(t)b=0;else return-1;"string"===typeof d&&(d=c.from(d,e));if(c.isBuffer(d))return 0===d.length?-1:G(a,d,b,e,t);if("number"===typeof d)return d&=255,c.a&&"function"===typeof Uint8Array.prototype.indexOf?t?Uint8Array.prototype.indexOf.call(a,
d,b):Uint8Array.prototype.lastIndexOf.call(a,d,b):G(a,[d],b,e,t);throw new TypeError("val must be string, number or Buffer");}function G(a,d,b,e,c){function t(a,b){return 1===f?a[b]:a.B(b*f)}var f=1,g=a.length,h=d.length;if(void 0!==e&&(e=String(e).toLowerCase(),"ucs2"===e||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(2>a.length||2>d.length)return-1;f=2;g/=2;h/=2;b/=2}if(c)for(e=-1;b<g;b++)if(t(a,b)===t(d,-1===e?0:b-e)){if(-1===e&&(e=b),b-e+1===h)return e*f}else-1!==e&&(b-=b-e),e=-1;else for(b+
h>g&&(b=g-h);0<=b;b--){g=!0;for(e=0;e<h;e++)if(t(a,b+e)!==t(d,e)){g=!1;break}if(g)return b}return-1}function F(a,d,b){b=Math.min(a.length,b);for(var e=[];d<b;){var c=a[d],f=null,g=239<c?4:223<c?3:191<c?2:1;if(d+g<=b){var h,k,w;switch(g){case 1:128>c&&(f=c);break;case 2:h=a[d+1];128===(h&192)&&(c=(c&31)<<6|h&63,127<c&&(f=c));break;case 3:h=a[d+1];k=a[d+2];128===(h&192)&&128===(k&192)&&(c=(c&15)<<12|(h&63)<<6|k&63,2047<c&&(55296>c||57343<c)&&(f=c));break;case 4:h=a[d+1],k=a[d+2],w=a[d+3],128===(h&192)&&
128===(k&192)&&128===(w&192)&&(c=(c&15)<<18|(h&63)<<12|(k&63)<<6|w&63,65535<c&&1114112>c&&(f=c))}}null===f?(f=65533,g=1):65535<f&&(f-=65536,e.push(f>>>10&1023|55296),f=56320|f&1023);e.push(f);d+=g}a=e.length;if(a<=H)e=String.fromCharCode.apply(String,e);else{b="";for(d=0;d<a;)b+=String.fromCharCode.apply(String,e.slice(d,d+=H));e=b}return e}function E(a){a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(L,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function y(a,d){d=d||Infinity;
for(var b,c=a.length,f=null,g=[],h=0;h<c;++h){b=a.charCodeAt(h);if(55295<b&&57344>b){if(!f){if(56319<b){-1<(d-=3)&&g.push(239,191,189);continue}else if(h+1===c){-1<(d-=3)&&g.push(239,191,189);continue}f=b;continue}if(56320>b){-1<(d-=3)&&g.push(239,191,189);f=b;continue}b=(f-55296<<10|b-56320)+65536}else f&&-1<(d-=3)&&g.push(239,191,189);f=null;if(128>b){if(0>--d)break;g.push(b)}else if(2048>b){if(0>(d-=2))break;g.push(b>>6|192,b&63|128)}else if(65536>b){if(0>(d-=3))break;g.push(b>>12|224,b>>6&63|
128,b&63|128)}else if(1114112>b){if(0>(d-=4))break;g.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw Error("Invalid code point");}return g}function I(a){for(var d=[],b=0;b<a.length;++b)d.push(a.charCodeAt(b)&255);return d}function x(a,d,b,c){for(var e=0;e<c&&!(e+b>=d.length||e>=a.length);++e)d[e+b]=a[e];return e}var z=m(2);m(3);var D=m(4);l.f=c;l.H=function(a){+a!=a&&(a=0);return c.g(+a)};l.D=50;c.a=void 0!==h.a?h.a:k();l.R=c.a?2147483647:1073741823;c.U=8192;c.J=function(a){a.__proto__=
c.prototype;return a};c.from=function(a,d,b){return n(null,a,d,b)};c.a&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,C(),C(),C(),"undefined"!==typeof Symbol&&Symbol.u&&c[Symbol.u]===c&&(C(),Object.defineProperty(c,Symbol.u,{value:null,configurable:!0})));c.g=function(a){g(a);return p(null,a)};c.h=function(a){return f(null,a)};c.K=function(a){return f(null,a)};c.isBuffer=function(a){return!(null==a||!a.w)};c.compare=function(a,d){if(!c.isBuffer(a)||!c.isBuffer(d))throw new TypeError("Arguments must be Buffers");
if(a===d)return 0;for(var b=a.length,e=d.length,f=0,g=Math.min(b,e);f<g;++f)if(a[f]!==d[f]){b=a[f];e=d[f];break}return b<e?-1:e<b?1:0};c.o=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};c.concat=function(a,d){if(!D(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return c.g(0);var b;if(void 0===
d)for(b=d=0;b<a.length;++b)d+=a[b].length;var e=c.h(d),f=0;for(b=0;b<a.length;++b){var g=a[b];if(!c.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.i(e,f);f+=g.length}return e};c.byteLength=u;c.prototype.w=!0;c.prototype.toString=function(){var a=this.length|0;return 0===a?"":0===arguments.length?F(this,0,a):B.apply(this,arguments)};c.prototype.compare=function(a,d,b,e,f){if(!c.isBuffer(a))throw new TypeError("Argument must be a Buffer");void 0===d&&(d=0);void 0===
b&&(b=a?a.length:0);void 0===e&&(e=0);void 0===f&&(f=this.length);if(0>d||b>a.length||0>e||f>this.length)throw new RangeError("out of range index");if(e>=f&&d>=b)return 0;if(e>=f)return-1;if(d>=b)return 1;d>>>=0;b>>>=0;e>>>=0;f>>>=0;if(this===a)return 0;var g=f-e,h=b-d,k=Math.min(g,h);e=this.slice(e,f);a=a.slice(d,b);for(d=0;d<k;++d)if(e[d]!==a[d]){g=e[d];h=a[d];break}return g<h?-1:h<g?1:0};c.prototype.includes=function(a,d,b){return-1!==this.indexOf(a,d,b)};c.prototype.indexOf=function(a,d,b){return q(this,
a,d,b,!0)};c.prototype.lastIndexOf=function(a,d,b){return q(this,a,d,b,!1)};c.prototype.write=function(a,d,b,c){if(void 0===d)c="utf8",b=this.length,d=0;else if(void 0===b&&"string"===typeof d)c=d,b=this.length,d=0;else if(isFinite(d))d|=0,isFinite(b)?(b|=0,void 0===c&&(c="utf8")):(c=b,b=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-d;if(void 0===b||b>e)b=e;if(0<a.length&&(0>b||0>d)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");
c||(c="utf8");for(e=!1;;)switch(c){case "hex":d=Number(d)||0;c=this.length-d;b?(b=Number(b),b>c&&(b=c)):b=c;c=a.length;if(0!==c%2)throw new TypeError("Invalid hex string");b>c/2&&(b=c/2);for(c=0;c<b;++c){e=parseInt(a.substr(2*c,2),16);if(isNaN(e))break;this[d+c]=e}return c;case "utf8":case "utf-8":return x(y(a,this.length-d),this,d,b);case "ascii":return x(I(a),this,d,b);case "latin1":case "binary":return x(I(a),this,d,b);case "base64":return x(z.v(E(a)),this,d,b);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var f;
c=a;for(var e=this.length-d,g=[],h=0;h<c.length&&!(0>(e-=2));++h)f=c.charCodeAt(h),a=f>>8,f%=256,g.push(f),g.push(a);return x(g,this,d,b);default:if(e)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase();e=!0}};c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.I||this,0)}};var H=4096;c.prototype.slice=function(a,d){var b=this.length;a=~~a;d=void 0===d?b:~~d;0>a?(a+=b,0>a&&(a=0)):a>b&&(a=b);0>d?(d+=b,0>d&&(d=0)):d>b&&(d=b);d<a&&(d=a);if(c.a)b=this.subarray(a,
d),b.__proto__=c.prototype;else for(var e=d-a,b=new c(e,void 0),f=0;f<e;++f)b[f]=this[f+a];return b};c.prototype.B=function(a){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+2>this.length)throw new RangeError("Trying to access beyond buffer length");return this[a]<<8|this[a+1]};c.prototype.i=function(a,d,b,e){b||(b=0);e||0===e||(e=this.length);d>=a.length&&(d=a.length);d||(d=0);0<e&&e<b&&(e=b);if(e!==b&&0!==a.length&&0!==this.length){if(0>d)throw new RangeError("targetStart out of bounds");
if(0>b||b>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-d<e-b&&(e=a.length-d+b);var f=e-b;if(this===a&&b<d&&d<e)for(e=f-1;0<=e;--e)a[e+d]=this[e+b];else if(1E3>f||!c.a)for(e=0;e<f;++e)a[e+d]=this[e+b];else Uint8Array.prototype.set.call(a,this.subarray(b,b+f),d)}};c.prototype.fill=function(a,d,b,e){if("string"===typeof a){"string"===typeof d?(e=d,d=0,b=this.length):"string"===typeof b&&(e=
b,b=this.length);if(1===a.length){var f=a.charCodeAt(0);256>f&&(a=f)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!c.o(e))throw new TypeError("Unknown encoding: "+e);}else"number"===typeof a&&(a&=255);if(0>d||this.length<d||this.length<b)throw new RangeError("Out of range index");if(b<=d)return this;d>>>=0;b=void 0===b?this.length:b>>>0;a||(a=0);if("number"===typeof a)for(e=d;e<b;++e)this[e]=a;else for(a=c.isBuffer(a)?a:y((new c(a,e)).toString()),
f=a.length,e=0;e<b-d;++e)this[e+d]=a[e%f];return this};var L=/[^+\/0-9A-Za-z-_]/g}).call(l,m(1).f,function(){return this}())},function(q,l){function m(c){var f=c.length;if(0<f%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===c[f-2]?2:"="===c[f-1]?1:0}function c(c,f,k){for(var g=[],m=f;m<k;m+=3)f=(c[m]<<16)+(c[m+1]<<8)+c[m+2],g.push(h[f>>18&63]+h[f>>12&63]+h[f>>6&63]+h[f&63]);return g.join("")}l.byteLength=function(c){return 3*c.length/4-m(c)};l.v=function(c){var f,h,g,n,
l;f=c.length;n=m(c);l=new p(3*f/4-n);h=0<n?f-4:f;var q=0;for(f=0;f<h;f+=4)g=k[c.charCodeAt(f)]<<18|k[c.charCodeAt(f+1)]<<12|k[c.charCodeAt(f+2)]<<6|k[c.charCodeAt(f+3)],l[q++]=g>>16&255,l[q++]=g>>8&255,l[q++]=g&255;2===n?(g=k[c.charCodeAt(f)]<<2|k[c.charCodeAt(f+1)]>>4,l[q++]=g&255):1===n&&(g=k[c.charCodeAt(f)]<<10|k[c.charCodeAt(f+1)]<<4|k[c.charCodeAt(f+2)]>>2,l[q++]=g>>8&255,l[q++]=g&255);return l};l.j=function(g){for(var f=g.length,k=f%3,m="",n=[],l=0,p=f-k;l<p;l+=16383)n.push(c(g,l,l+16383>p?
p:l+16383));1===k?(g=g[f-1],m+=h[g>>2],m+=h[g<<4&63],m+="=="):2===k&&(g=(g[f-2]<<8)+g[f-1],m+=h[g>>10],m+=h[g>>4&63],m+=h[g<<2&63],m+="=");n.push(m);return n.join("")};for(var h=[],k=[],p="undefined"!==typeof Uint8Array?Uint8Array:Array,n=0;64>n;++n)h[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n],k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;k[45]=62;k[95]=63},function(q,l){l.read=function(m,c,h,k,l){var n;n=8*l-k-1;var g=(1<<n)-1,
f=g>>1,p=-7;l=h?l-1:0;var q=h?-1:1,r=m[c+l];l+=q;h=r&(1<<-p)-1;r>>=-p;for(p+=n;0<p;h=256*h+m[c+l],l+=q,p-=8);n=h&(1<<-p)-1;h>>=-p;for(p+=k;0<p;n=256*n+m[c+l],l+=q,p-=8);if(0===h)h=1-f;else{if(h===g)return n?NaN:Infinity*(r?-1:1);n+=Math.pow(2,k);h-=f}return(r?-1:1)*n*Math.pow(2,h-k)};l.write=function(l,c,h,k,p,n){var g,f=8*n-p-1,m=(1<<f)-1,q=m>>1,r=23===p?Math.pow(2,-24)-Math.pow(2,-77):0;n=k?0:n-1;var u=k?1:-1,B=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,k=m):(k=Math.floor(Math.log(c)/
Math.LN2),1>c*(g=Math.pow(2,-k))&&(k--,g*=2),c=1<=k+q?c+r/g:c+r*Math.pow(2,1-q),2<=c*g&&(k++,g/=2),k+q>=m?(c=0,k=m):1<=k+q?(c=(c*g-1)*Math.pow(2,p),k+=q):(c=c*Math.pow(2,q-1)*Math.pow(2,p),k=0));for(;8<=p;l[h+n]=c&255,n+=u,c/=256,p-=8);k=k<<p|c;for(f+=p;0<f;l[h+n]=k&255,n+=u,k/=256,f-=8);l[h+n-u]|=128*B}},function(q){var l={}.toString;q.b=Array.isArray||function(m){return"[object Array]"==l.call(m)}},function(q){function l(h,k){return k?new c(h,k):new c(h)}var m;m="undefined"!==typeof WorkerGlobalScope?
self:"undefined"!=typeof window&&window||function(){return this}();var c=m.WebSocket||m.F;c&&(l.prototype=c.prototype);q.b=c?l:null}])});